<mat-sidenav-container class="sidenav__wrapper">
  <mat-sidenav
    #sidenav
    mode="side"
    [(opened)]="opened"
    (opened)="events.push('open!')"
    (closed)="events.push('close!')"
  >
    <div class="sidenav__container">
      <h2 class="sidenav__hl">{{ settingsDefaults.panelTitle }}</h2>
      <p>
        <mat-form-field class="example-full-width">
          <mat-label>Override prompt template</mat-label>
          <textarea matInput placeholder="Current prompt template"></textarea>
        </mat-form-field>
      </p>
      <div>
        <h3>Retrieval Mode</h3>
        <mat-button-toggle-group #group="matButtonToggleGroup" aria-label="Retrieval Mode">
          <mat-button-toggle value="{{ retrievalMode.Hybrid }}">{{ retrievalMode.Hybrid }}</mat-button-toggle>
          <mat-button-toggle value="{{ retrievalMode.Vector }}">{{ retrievalMode.Vector }}</mat-button-toggle>
          <mat-button-toggle value="{{ retrievalMode.Text }}">{{ retrievalMode.Text }}</mat-button-toggle>
        </mat-button-toggle-group>
        <div class="example-selected-value">Selected value: {{ group.value }}</div>
        <!-- <mat-form-field class="example-full-width">
          <mat-label>Retrieval Mode</mat-label>
          <input
            type="text"
            placeholder="Select a retrieval mode"
            aria-label="Retrieval Mode"
            matInput
            [formControl]="retrievalModeControl"
            [matAutocomplete]="auto"
          />
          <mat-autocomplete #auto="matAutocomplete">
            @for (mode of selectedModes | async; track mode) {
            <mat-option [value]="mode">{{ mode }}</mat-option>
            }
          </mat-autocomplete>
        </mat-form-field> -->
      </div>
      <p>
        <mat-form-field class="example-full-width">
          <mat-label>Retrieve this many search results</mat-label>
          <input matInput placeholder="3" value="3" />
        </mat-form-field>
      </p>
      <p>
        <mat-form-field class="example-full-width">
          <mat-label>Exclude category</mat-label>
          <input matInput placeholder="Violence" value="Violence" />
        </mat-form-field>
      </p>
      <!-- <p><mat-checkbox [(ngModel)]="opened">Open</mat-checkbox></p> -->
      <p>
        <mat-checkbox [(ngModel)]="settingsDefaults.semanticRanker">Use semantic ranker for retrieval</mat-checkbox>
      </p>
      <p>
        <mat-checkbox [(ngModel)]="settingsDefaults.semanticCaptions"
          >Use query-contextural summaries instead of whole documents</mat-checkbox
        >
      </p>
      <p><mat-checkbox [(ngModel)]="settingsDefaults.followUpQuestions">Suggest follow-up questions</mat-checkbox></p>
      <p><mat-checkbox [(ngModel)]="settingsDefaults.streaming">Stream chat completion responses</mat-checkbox></p>
    </div>
  </mat-sidenav>
  <mat-sidenav-content>
    <div class="inner-wrapper">
      <button class="button__button settings" title="Application Settings" (click)="sidenav.toggle()">
        <img src="./assets/svg/gear-solid.svg?raw" alt="Settings" class="icon__img" />
        <span>{{ settingsDefaults.panelLabel }}</span>
      </button>
      <!--       <div class="example-events">
        @for (e of events; track e) {
        <div>{{ e }}</div>
        }
      </div> -->
      <chat-component
        title="Ask anything or try an example"
        data-input-position="sticky"
        data-interaction-model="chat"
        data-api-url="{apiBaseUrl}"
        data-use-stream="{useStream}"
        data-approach="rrr"
        data-overrides=""
      ></chat-component>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>
